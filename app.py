# –ú–∞—Ç—Ä–∏—Ü–∞ –î—É—à–∏: –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è —Å –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Streamlit

import streamlit as st

# ‚ñ∂Ô∏è 1. –¢–∞–±–ª–∏—Ü–∞ –∞—Ä—Ö–µ—Ç–∏–ø–æ–≤ (—á–∏—Å–ª–æ ‚Üí –æ–ø–∏—Å–∞–Ω–∏–µ)
ARCHETYPES = {
    1: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–í–æ–∏–Ω, –ú–∞–≥, –ü—Ä–æ–º–µ—Ç–µ–π ‚Äî —ç–Ω–µ—Ä–≥–∏—è –¥–µ–π—Å—Ç–≤–∏—è, –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã, –ª–∏–¥–µ—Ä—Å—Ç–≤–∞", "—Å–≤–µ—Ç": "–†–µ—à–∏–º–æ—Å—Ç—å, –≤–æ–ª—è, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞—á–∏–Ω–∞—Ç—å –∏ –≤–µ—Å—Ç–∏ –∑–∞ —Å–æ–±–æ–π.", "—Ç–µ–Ω—å": "–ê–≤—Ç–æ—Ä–∏—Ç–∞—Ä–Ω–æ—Å—Ç—å, —É–ø—Ä—è–º—Å—Ç–≤–æ, –Ω–µ—Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ —Å–ª–∞–±–æ—Å—Ç–∏.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–£—á–∏—Ç–µ—Å—å —Å–ª—ã—à–∞—Ç—å –¥—Ä—É–≥–∏—Ö –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö –≤–∫–ª–∞–¥. –†–∞–∑–≤–∏–≤–∞–π—Ç–µ –º—É–¥—Ä–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ.", "color": "#E53935"},
    2: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–î–∏–ø–ª–æ–º–∞—Ç, –õ—É–Ω–Ω–∞—è –ñ—Ä–∏—Ü–∞ ‚Äî —ç–Ω–µ—Ä–≥–∏—è —á—É–≤—Å—Ç–≤, –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞", "—Å–≤–µ—Ç": "–≠–º–ø–∞—Ç–∏—è, –≥–∞—Ä–º–æ–Ω–∏—è, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–æ—é–∑–∞–º –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤—É.", "—Ç–µ–Ω—å": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —Å–µ–±—è, –æ–±–∏–¥—á–∏–≤–æ—Å—Ç—å.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö, —É—á–∏—Ç–µ—Å—å –≤—ã—Ä–∞–∂–∞—Ç—å —Å–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è.", "color": "#FB8C00"},
    3: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ê—Ä—Ç–∏—Å—Ç, –†–µ–±—ë–Ω–æ–∫, –ú—É–∑–∞ ‚Äî —ç–Ω–µ—Ä–≥–∏—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞, —Ä–∞–¥–æ—Å—Ç–∏, —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è", "—Å–≤–µ—Ç": "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ, —Ö–∞—Ä–∏–∑–º–∞, –ª—ë–≥–∫–æ—Å—Ç—å.", "—Ç–µ–Ω—å": "–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å, –∏–∑–±–µ–≥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–∞–º–æ–¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É, –Ω–∞–ø—Ä–∞–≤–ª—è–π—Ç–µ —ç–Ω–µ—Ä–≥–∏—é –≤ –ø—Ä–æ–µ–∫—Ç—ã.", "color": "#FDD835"},
    4: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä, –•—Ä–∞–Ω–∏—Ç–µ–ª—å ‚Äî —ç–Ω–µ—Ä–≥–∏—è –ø–æ—Ä—è–¥–∫–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, —Å–∏—Å—Ç–µ–º—ã", "—Å–≤–µ—Ç": "–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —É–º–µ–Ω–∏–µ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.", "—Ç–µ–Ω—å": "–°–∫—É–∫–∞, —Ä–∏–≥–∏–¥–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Ö –ø–µ—Ä–µ–º–µ–Ω.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–£—á–∏—Ç–µ—Å—å –≥–∏–±–∫–æ—Å—Ç–∏. –ü–æ–∑–≤–æ–ª—å—Ç–µ —Å–µ–±–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å.", "color": "#43A047"},
    5: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ò—Å–∫–∞—Ç–µ–ª—å, –û–¥–∏—Å—Å–µ–π ‚Äî —ç–Ω–µ—Ä–≥–∏—è –¥–≤–∏–∂–µ–Ω–∏—è, —Å–≤–æ–±–æ–¥—ã, –ø–æ–∑–Ω–∞–Ω–∏—è", "—Å–≤–µ—Ç": "–°–≤–æ–±–æ–¥–∞, –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø—Ä–æ–≥—Ä–µ—Å—Å.", "—Ç–µ–Ω—å": "–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å, –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –∏–∑–±–µ–≥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–æ—Ä—ã, —á—Ç–æ–±—ã —Å–≤–æ–±–æ–¥–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–æ –≤–Ω–µ.", "color": "#1E88E5"},
    6: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–î–µ–º–µ—Ç—Ä–∞, –•—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –æ—á–∞–≥–∞ ‚Äî —ç–Ω–µ—Ä–≥–∏—è –∑–∞–±–æ—Ç—ã, —Å–µ–º—å–∏ –∏ –ª—é–±–≤–∏", "—Å–≤–µ—Ç": "–õ—é–±–æ–≤—å, –∑–∞–±–æ—Ç–∞, –≤–µ—Ä–Ω–æ—Å—Ç—å.", "—Ç–µ–Ω—å": "–ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∂–µ—Ä—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–¥ –º–∞—Å–∫–æ–π –∑–∞–±–æ—Ç—ã.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –∑–∞–±–æ—Ç—É –æ —Å–µ–±–µ. –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –º–µ–∂–¥—É –æ—Ç–¥–∞—á–µ–π –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º.", "color": "#43A047"},
    7: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ú—É–¥—Ä–µ—Ü, –û—Ç—à–µ–ª—å–Ω–∏–∫ ‚Äî —ç–Ω–µ—Ä–≥–∏—è –ø–æ–∑–Ω–∞–Ω–∏—è, –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –≥–ª—É–±–∏–Ω—ã", "—Å–≤–µ—Ç": "–ò–Ω—Ç—É–∏—Ü–∏—è, –∑–Ω–∞–Ω–∏–µ, –≥–ª—É–±–∏–Ω–∞.", "—Ç–µ–Ω—å": "–ò–∑–æ–ª—è—Ü–∏—è, –æ—Ç—á—É–∂–¥—ë–Ω–Ω–æ—Å—Ç—å, —Ö–æ–ª–æ–¥–Ω–æ—Å—Ç—å.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ—Å—å –º–∏—Ä—É. –î–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π –º—É–¥—Ä–æ—Å—Ç—å—é.", "color": "#5E35B1"},
    8: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–£–ø—Ä–∞–≤–ª–µ–Ω–µ—Ü, –°—É–¥—å—è ‚Äî —ç–Ω–µ—Ä–≥–∏—è –≤–ª–∞—Å—Ç–∏, –≤–ª–∏—è–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã", "—Å–≤–µ—Ç": "–°–∏–ª–∞, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.", "—Ç–µ–Ω—å": "–ö–æ–Ω—Ç—Ä–æ–ª—å, –∂—ë—Å—Ç–∫–æ—Å—Ç—å, –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–£—á–∏—Ç–µ—Å—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ.", "color": "#3949AB"},
    9: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ú–∏—Å—Å–∏–æ–Ω–µ—Ä, –°—Ç–∞—Ä–µ—Ü ‚Äî —ç–Ω–µ—Ä–≥–∏—è —Å–ª—É–∂–µ–Ω–∏—è, –≥—É–º–∞–Ω–∏–∑–º–∞ –∏ –º—É–¥—Ä–æ—Å—Ç–∏", "—Å–≤–µ—Ç": "–°–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ, –∑—Ä–µ–ª–æ—Å—Ç—å, —Å–ª—É–∂–µ–Ω–∏–µ.", "—Ç–µ–Ω—å": "–£—Å—Ç–∞–ª–æ—Å—Ç—å, —Å–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ, –º–æ—Ä–∞–ª—å–Ω–æ–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –º–µ–∂–¥—É —Å–ª—É–∂–µ–Ω–∏–µ–º –¥—Ä—É–≥–∏–º –∏ –∑–∞–±–æ—Ç–æ–π –æ —Å–µ–±–µ.", "color": "#F9A825"},
    11: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ü—Ä–æ—Ä–æ–∫, –í–∏–¥—è—â–∏–π ‚Äî —ç–Ω–µ—Ä–≥–∏—è –ø—Ä–æ–∑—Ä–µ–Ω–∏—è, –∏–Ω—Ç—É–∏—Ü–∏–∏, –¥—É—Ö–æ–≤–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞", "—Å–≤–µ—Ç": "–î—É—Ö–æ–≤–Ω—ã–µ –æ–∑–∞—Ä–µ–Ω–∏—è, –∏–Ω—Ç—É–∏—Ü–∏—è, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ.", "—Ç–µ–Ω—å": "–†–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å, —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å, –∏–∑–±–µ–≥–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∏.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–ó–∞–∑–µ–º–ª—è–π—Ç–µ—Å—å, –æ—Ñ–æ—Ä–º–ª—è–π—Ç–µ —Å–≤–æ–∏ –æ–∑–∞—Ä–µ–Ω–∏—è –≤ –ø—Ä–∞–∫—Ç–∏–∫—É.", "color": "#BA68C8"},
    22: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –Ω–æ–≤–æ–≥–æ –º–∏—Ä–∞ ‚Äî —ç–Ω–µ—Ä–≥–∏—è –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö –∑–∞–¥–∞—á –∏ —Å–æ–∑–∏–¥–∞–Ω–∏—è", "—Å–≤–µ—Ç": "–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.", "—Ç–µ–Ω—å": "–°—Ç—Ä–∞—Ö –ø—Ä–æ–≤–∞–ª–∞, –¥–∞–≤–ª–µ–Ω–∏–µ, —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –∏–¥–µ–∞–ª—É.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º. –ü–æ–º–Ω–∏—Ç–µ, –¥–∞–∂–µ –≤–µ–ª–∏–∫–æ–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∞–ª–æ–≥–æ.", "color": "#FFD700"},
    33: {"–∞—Ä—Ö–µ—Ç–∏–ø": "–£—á–∏—Ç–µ–ª—å –£—á–∏—Ç–µ–ª–µ–π ‚Äî —ç–Ω–µ—Ä–≥–∏—è –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Å–ª—É–∂–µ–Ω–∏—è –∏ –±–µ–∑—É—Å–ª–æ–≤–Ω–æ–π –ª—é–±–≤–∏", "—Å–≤–µ—Ç": "–ë–µ–∑—É—Å–ª–æ–≤–Ω–∞—è –ª—é–±–æ–≤—å, –¥—É—Ö–æ–≤–Ω–æ–µ —Å–ª—É–∂–µ–Ω–∏–µ.", "—Ç–µ–Ω—å": "–í—ã–≥–æ—Ä–∞–Ω–∏–µ, —Å–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ, —Å–ø–∞—Å–∞—Ç–µ–ª—å—Å—Ç–≤–æ.", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏": "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —ç–Ω–µ—Ä–≥–∏—é –∏ –±—ã—Ç—å –æ–ø–æ—Ä–æ–π –¥–ª—è –¥—Ä—É–≥–∏—Ö.", "color": "#FFFFFF"}
}

# ‚ñ∂Ô∏è 1.1. –ü—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —Ç–µ–Ω–µ–π
PRACTICES = {
    1: ["–ú–µ–¥–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–∏–Ω—è—Ç–∏–µ –¥—Ä—É–≥–∏—Ö", "–ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å –º—è–≥–∫–æ—Å—Ç—å –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏"],
    2: ["–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ª–∏—á–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã", "–í—ã—Ä–∞–∂–∞—Ç—å —Å–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è –≤—Å–ª—É—Ö"],
    3: ["–í–µ—Å—Ç–∏ –¥–Ω–µ–≤–Ω–∏–∫ —Å–∞–º–æ–ø–æ–¥–¥–µ—Ä–∂–∫–∏", "–ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å"],
    4: ["–ü—Ä–∏–≤—ã–∫–∞—Ç—å –∫ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏", "–í–Ω–µ–¥—Ä—è—Ç—å –Ω–æ–≤–æ–µ —Ö–æ–±–±–∏"],
    5: ["–î—ã—à–∞—Ç—å –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º", "–°–æ—Å—Ç–∞–≤–ª—è—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω"],
    6: ["–£–¥–µ–ª—è—Ç—å –≤—Ä–µ–º—è —Å–µ–±–µ", "–ì–æ–≤–æ—Ä–∏—Ç—å '–Ω–µ—Ç' –±–µ–∑ —á—É–≤—Å—Ç–≤–∞ –≤–∏–Ω—ã"],
    7: ["–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö", "–î–µ–ª–∏—Ç—å—Å—è –∑–Ω–∞–Ω–∏—è–º–∏"],
    8: ["–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏", "–ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å –≥–∏–±–∫–æ—Å—Ç—å –º—ã—à–ª–µ–Ω–∏—è"],
    9: ["–°–∞–º–æ—Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ", "–ó–∞–±–æ—Ç–∞ –æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö"],
    11: ["–í–µ—Å—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –∑–∞–∑–µ–º–ª–µ–Ω–∏—è", "–ü—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –∏–¥–µ–∏ –Ω–∞ –±—É–º–∞–≥–µ"],
    22: ["–î–µ–ª–∏—Ç—å –±–æ–ª—å—à–∏–µ —Ü–µ–ª–∏ –Ω–∞ —ç—Ç–∞–ø—ã", "–ü—Ä–æ—Å–∏—Ç—å –ø–æ–º–æ—â–∏"],
    33: ["–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –≤ —Å–ª—É–∂–µ–Ω–∏–∏", "–í—Ä–µ–º—è –¥–ª—è –æ–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏—è"]
}

# ‚ñ∂Ô∏è 2. –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –º–∞—Ç—Ä–∏—Ü—ã
POSITION_DESC = {
    "–ö–æ–¥ –î—É—à–∏": "–ì–ª—É–±–∏–Ω–Ω–∞—è —Å—É—Ç—å –ª–∏—á–Ω–æ—Å—Ç–∏, —è–¥—Ä–æ —ç–Ω–µ—Ä–≥–∏–∏ –≤–∞—à–µ–≥–æ –Ø.",
    "–ö–∞—Ä–º–∏—á–µ—Å–∫–∏–π —Ö–≤–æ—Å—Ç": "–û–ø—ã—Ç –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω–µ–π –∏ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç–ø—É—Å—Ç–∏—Ç—å/–ø—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å.",
    "–ü—É—Ç—å –î—É—à–∏": "–ú–∏—Å—Å–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞ –∏ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.",
    "–î–∞—Ä/–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª": "–í–∞—à –≤—Ä–æ–∂–¥—ë–Ω–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å.",
    "–ö–æ–¥ —Ç–µ–ª–∞/—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è": "–ö–∞–∫ —á–µ—Ä–µ–∑ —Ç–µ–ª–æ –∏ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —ç–Ω–µ—Ä–≥–∏—è.",
    "–≠–Ω–µ—Ä–≥–∏—è –≥–æ–¥–∞ —Ä–æ–∂–¥–µ–Ω–∏—è": "–§–æ–Ω–æ–≤–∞—è —Å–∏–ª–∞, –≤–ª–∏—è—é—â–∞—è –Ω–∞ –ø–æ–∫–æ–ª–µ–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–± –∑–∞–¥–∞—á.",
    "–í—Ä–∞—Ç–∞ –î—É—à–∏": "–ö–ª—é—á–µ–≤–æ–π —É—Ä–æ–∫, —Ç–æ—á–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É –î—É—à–æ–π –∏ –∫–∞—Ä–º–æ–π.",
    "–ö–æ–¥ –ò–∑–æ–±–∏–ª–∏—è": "–ö–∞–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Ç–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.",
    "–ò–Ω–∫–∞—Ä–Ω–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å": "–ü–æ–¥—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∏–¥—É—â–∏–µ –∏–∑ –ø—Ä–æ—à–ª—ã—Ö –≤–æ–ø–ª–æ—â–µ–Ω–∏–π.",
    "–ö–∞–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏": "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ü–µ–Ω–∞, –≥–¥–µ –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø—Ä–æ—è–≤–ª—è—Ç—å —Å–µ–±—è.",
    "–ö–∞–Ω–∞–ª –ª—é–±–≤–∏": "–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏ —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞.",
    "–ö–∞–Ω–∞–ª –¥—É—Ö–∞": "–ö–∞–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –¥—É—Ö–æ–≤–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è.",
    "–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª (–†–∞—Ö—É)": "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞ –¥—É—à–∏, —É—Ä–æ–∫–∏ –±—É–¥—É—â–µ–≥–æ, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å.",
    "–Æ–∂–Ω—ã–π —É–∑–µ–ª (–ö–µ—Ç—É)": "–¢–µ–Ω–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω–µ–π, —Ç–æ, –æ—Ç —á–µ–≥–æ –Ω–∞–¥–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å—Å—è."
}

# ‚ñ∂Ô∏è 3. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

def reduce_number(n):
    while n not in [11, 22, 33] and n > 9:
        n = sum(int(d) for d in str(n))
    return n

def calculate_matrix(day, month, year):
    d, m, y = sum(map(int, str(day))), sum(map(int, str(month))), sum(map(int, str(year)))
    soul, karma, path = reduce_number(d+m+y), reduce_number(d+m), None
    path = reduce_number(soul+karma)
    gift, body, birth = reduce_number(d), reduce_number(m), reduce_number(y)
    gate, abound = reduce_number(abs(soul-karma)), reduce_number(gift+body)
    incarn = reduce_number(birth+karma)
    real, love, spirit = reduce_number(path+gift), reduce_number(karma+body), reduce_number(path+birth)
    north, south = reduce_number(soul+path), reduce_number(karma+gate)
    return {
        "–ö–æ–¥ –î—É—à–∏": soul, "–ö–∞—Ä–º–∏—á–µ—Å–∫–∏–π —Ö–≤–æ—Å—Ç": karma, "–ü—É—Ç—å –î—É—à–∏": path,
        "–î–∞—Ä/–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª": gift, "–ö–æ–¥ —Ç–µ–ª–∞/—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è": body, "–≠–Ω–µ—Ä–≥–∏—è –≥–æ–¥–∞ —Ä–æ–∂–¥–µ–Ω–∏—è": birth,
        "–í—Ä–∞—Ç–∞ –î—É—à–∏": gate, "–ö–æ–¥ –ò–∑–æ–±–∏–ª–∏—è": abound, "–ò–Ω–∫–∞—Ä–Ω–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å": incarn,
        "–ö–∞–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏": real, "–ö–∞–Ω–∞–ª –ª—é–±–≤–∏": love, "–ö–∞–Ω–∞–ª –¥—É—Ö–∞": spirit,
        "–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª (–†–∞—Ö—É)": north, "–Æ–∂–Ω—ã–π —É–∑–µ–ª (–ö–µ—Ç—É)": south
    }

# ‚ñ∂Ô∏è 4. Streamlit-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
st.set_page_config(page_title="–ú–∞—Ç—Ä–∏—Ü–∞ –î—É—à–∏", page_icon="üåÄ")
st.title("üåÄ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ú–∞—Ç—Ä–∏—Ü—ã –î—É—à–∏")
st.markdown("–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, —á—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤–∞—à—É –º–∞—Ç—Ä–∏—Ü—É")

# –ß–µ–∫–±–æ–∫—Å –¥–ª—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∫—Ä—É–≥–∞
show_circle = st.checkbox('–ü–æ–∫–∞–∑–∞—Ç—å —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥')

col1, col2, col3 = st.columns(3)
with col1:
    day = st.number_input("–î–µ–Ω—å", 1, 31, 1)
with col2:
    month = st.number_input("–ú–µ—Å—è—Ü", 1, 12, 1)
with col3:
    year = st.number_input("–ì–æ–¥", 1900, 2100, 1984)

if st.button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –º–∞—Ç—Ä–∏—Ü—É"):
    res = calculate_matrix(day, month, year)
    
    # –ö–∞—Ä–º–∏—á–µ—Å–∫–∏–µ —É–∑–ª—ã
    st.subheader("üåó –ö–∞—Ä–º–∏—á–µ—Å–∫–∏–µ —É–∑–ª—ã")
    nn, sn = res["–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª (–†–∞—Ö—É)"], res["–Æ–∂–Ω—ã–π —É–∑–µ–ª (–ö–µ—Ç—É)"]
    st.markdown(f"**–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª (–†–∞—Ö—É):** `{nn}` ‚Äî {POSITION_DESC['–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª (–†–∞—Ö—É)']}**")
    info_nn = ARCHETYPES.get(nn)
    if info_nn:
        st.markdown(f"üîπ **–ê—Ä—Ö–µ—Ç–∏–ø –†–∞—Ö—É:** *{info_nn['–∞—Ä—Ö–µ—Ç–∏–ø']}*")
        st.markdown(f"üü¢ **–°–≤–µ—Ç –†–∞—Ö—É:** {info_nn['—Å–≤–µ—Ç']}")
        # –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –±–ª–æ–∫ —Ç–µ–Ω–∏ –∏ –ø—Ä–∞–∫—Ç–∏–∫
        with st.expander("–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Ç–µ–Ω–∏ –†–∞—Ö—É"):
            st.write(info_nn['—Ç–µ–Ω—å'])
            practice_nn = PRACTICES.get(nn, [])
            st.multiselect("–ü—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –†–∞—Ö—É", practice_nn, practice_nn)
        st.markdown(f"üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –†–∞—Ö—É:** {info_nn['—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏']}")
    st.markdown(f"**–Æ–∂–Ω—ã–π —É–∑–µ–ª (–ö–µ—Ç—É):** `{sn}` ‚Äî {POSITION_DESC['–Æ–∂–Ω—ã–π —É–∑–µ–ª (–ö–µ—Ç—É)']}**")
    info_sn = ARCHETYPES.get(sn)
    if info_sn:
        st.markdown(f"üîπ **–ê—Ä—Ö–µ—Ç–∏–ø –ö–µ—Ç—É:** *{info_sn['–∞—Ä—Ö–µ—Ç–∏–ø']}*")
        st.markdown(f"üü¢ **–°–≤–µ—Ç –ö–µ—Ç—É:** {info_sn['—Å–≤–µ—Ç']}")
        with st.expander("–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Ç–µ–Ω–∏ –ö–µ—Ç—É"):
            st.write(info_sn['—Ç–µ–Ω—å'])
            practice_sn = PRACTICES.get(sn, [])
            st.multiselect("–ü—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –ö–µ—Ç—É", practice_sn, practice_sn)
        st.markdown(f"üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ö–µ—Ç—É:** {info_sn['—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏']}")
    
    # –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥
    if show_circle:
        st.subheader("üåÄ –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥")
        # –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ draw_energy_circle(res) –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
        st.plotly_chart(draw_energy_circle(res), use_container_width=True)

    # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ —Å–≤—è–∑–∏
    st.subheader("‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
    links = [("–í—Ä–∞—Ç–∞ –î—É—à–∏","–î–∞—Ä/–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª"),("–ö–æ–¥ –ò–∑–æ–±–∏–ª–∏—è","–ö–∞—Ä–º–∏—á–µ—Å–∫–∏–π —Ö–≤–æ—Å—Ç"),
             ("–ö–∞–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏","–ü—É—Ç—å –î—É—à–∏"),("–ö–∞–Ω–∞–ª –ª—é–±–≤–∏","–ö–æ–¥ —Ç–µ–ª–∞/—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"),
             ("–ö–∞–Ω–∞–ª –¥—É—Ö–∞","–≠–Ω–µ—Ä–≥–∏—è –≥–æ–¥–∞ —Ä–æ–∂–¥–µ–Ω–∏—è")]
    for pos, code in res.items():
        if pos in ["–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª (–†–∞—Ö—É)","–Æ–∂–Ω—ã–π —É–∑–µ–ª (–ö–µ—Ç—É)"]:
            continue
        color = ARCHETYPES.get(code, {}).get("color", "#000000")
        st.markdown(f"### <span style='color:{color};'>‚óè</span> **{pos}**", unsafe_allow_html=True)
        st.markdown(f"<span style='font-size:90%; color:#555;'>{POSITION_DESC.get(pos,'')}</span>",unsafe_allow_html=True)
        st.markdown(f"**–ö–æ–¥:** `{code}`")
        if code in [11,22,33]: st.markdown("‚ú® –≠—Ç–æ **–ú–∞—Å—Ç–µ—Ä-—ç–Ω–µ—Ä–≥–∏—è** ‚Äî —É—Å–∏–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–µ—Ç–∏–ø–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª.")
        info = ARCHETYPES.get(code)
        if info:
            st.markdown(f"üîπ **–ê—Ä—Ö–µ—Ç–∏–ø:** *{info['–∞—Ä—Ö–µ—Ç–∏–ø']}*")
            st.markdown(f"üü¢ **–°–≤–µ—Ç:** {info['—Å–≤–µ—Ç']}")
            with st.expander("–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Ç–µ–Ω–∏"):
                st.write(info['—Ç–µ–Ω—å'])
                practices = PRACTICES.get(code, [])
                st.multiselect("–ü—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —Ç–µ–Ω–∏", practices, practices)
            st.markdown(f"üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:** {info['—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏']}")
        for a,b in links:
            if res.get(a)==res.get(b)==code:
                master = " ‚ú® (–ú–∞—Å—Ç–µ—Ä-—ç–Ω–µ—Ä–≥–∏—è)" if code in [11,22,33] else ""
                arch = ARCHETYPES[code]['–∞—Ä—Ö–µ—Ç–∏–ø']
                st.markdown(f"üîÅ **{a} ‚Üî {b}** ‚Äî –æ–±—â–∏–π –∞—Ä—Ö–µ—Ç–∏–ø: *{arch}*{master}.")
                st.markdown("<span style='color:#888;'>–û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —ç–Ω–µ—Ä–≥–∏—è —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–∏—Ö –¥–≤—É—Ö –∑–æ–Ω–∞—Ö –∂–∏–∑–Ω–∏.</span>",unsafe_allow_html=True)
        st.write("---")

# ‚ñ∂Ô∏è 5. –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∫—Ä—É–≥–∞ (–∑–∞–≥–ª—É—à–∫–∞)
def draw_energy_circle(result):
    import plotly.graph_objs as go
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –±—É–¥–µ—Ç –∑–¥–µ—Å—å
    fig = go.Figure()
    return fig
